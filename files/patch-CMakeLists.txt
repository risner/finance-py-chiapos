--- CMakeLists.txt.orig	2021-05-28 02:40:44 UTC
+++ CMakeLists.txt
@@ -14,29 +14,8 @@ endif()
 project(chiapos C CXX ASM)

 # CMake 3.14+
-include(FetchContent)
+include(${CMAKE_INSTALL_PREFIX}/share/cmake/pybind11/pybind11Config.cmake)

-FetchContent_Declare(
-  pybind11-src
-  GIT_REPOSITORY https://github.com/pybind/pybind11.git
-  GIT_TAG        v2.6.2
-)
-FetchContent_MakeAvailable(pybind11-src)
-
-FetchContent_Declare(
-  cxxopts
-  GIT_REPOSITORY https://github.com/jarro2783/cxxopts.git
-  GIT_TAG        v2.2.1
-)
-FetchContent_MakeAvailable(cxxopts)
-
-FetchContent_Declare(
-  gulrak
-  GIT_REPOSITORY https://github.com/gulrak/filesystem.git
-  GIT_TAG        v1.5.6
-)
-FetchContent_MakeAvailable(gulrak)
-
 set(FSE_LIB ${CMAKE_CURRENT_SOURCE_DIR}/lib/FiniteStateEntropy/lib)
 set(FSE_FILES
     ${FSE_LIB}/fse_compress.c
@@ -48,8 +27,8 @@ set(FSE_FILES
 include_directories(
   ${INCLUDE_DIRECTORIES}
   ${CMAKE_CURRENT_SOURCE_DIR}/../lib/include
-  ${cxxopts_SOURCE_DIR}/include
-  ${gulrak_SOURCE_DIR}/include/ghc
+  ${CMAKE_CURRENT_SOURCE_DIR}/src-ext/cxxopts/include
+  ${CMAKE_CURRENT_SOURCE_DIR}/src-ext/gulrak/include/ghc
   ${CMAKE_CURRENT_SOURCE_DIR}/../lib/FiniteStateEntropy/lib
   ${CMAKE_CURRENT_SOURCE_DIR}/src
   ${CMAKE_CURRENT_SOURCE_DIR}/test
